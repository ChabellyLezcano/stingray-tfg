<div class="container mx-auto mt-8 max-w-md">
  <h2 class="mb-4 text-2xl font-bold">Reset Password</h2>
  <form
    [formGroup]="resetPasswordForm"
    (ngSubmit)="onSubmit()"
    class="space-y-4"
  >
    <div>
      <label for="newPassword" class="block text-sm font-medium text-gray-700">
        New Password
      </label>
      <input
        type="password"
        formControlName="newPassword"
        id="newPassword"
        autocomplete="new-password"
        class="mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"
      />
      <!-- Show error message only if the field is touched or dirty -->
      <div
        *ngIf="
          resetPasswordForm.get('newPassword')?.touched &&
          resetPasswordForm.get('newPassword')?.errors?.['required']
        "
        class="mt-1 text-xs text-red-500"
      >
        La constraseña es requerida
      </div>
      <div
        *ngIf="
          resetPasswordForm.get('newPassword')?.touched &&
          resetPasswordForm.get('newPassword')?.errors?.['minlength']
        "
        class="mt-1 text-xs text-red-500"
      >
        La contraseña debe tener una longitud mínima de 8 caracteres
      </div>
    </div>
    <div>
      <label
        for="confirmPassword"
        class="block text-sm font-medium text-gray-700"
      >
        Confirm Password
      </label>
      <input
        type="password"
        formControlName="confirmPassword"
        id="confirmPassword"
        autocomplete="new-password"
        class="mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"
      />
      <!-- Show error message only if the field is touched or dirty -->
      <div
        *ngIf="
          resetPasswordForm.get('confirmPassword')?.touched &&
          resetPasswordForm.get('confirmPassword')?.errors?.['required']
        "
        class="mt-1 text-xs text-red-500"
      >
        La contraseña de confirmación es requerida
      </div>
      <div
        *ngIf="
          resetPasswordForm.get('confirmPassword')?.touched &&
          resetPasswordForm.hasError('passwordMismatch')
        "
        class="mt-1 text-xs text-red-500"
      >
        Las contraseñas no coinciden
      </div>
    </div>
    <button
      type="submit"
      [disabled]="!resetPasswordForm.valid"
      class="flex w-full justify-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"
    >
      Reset Password
    </button>
  </form>
</div>
