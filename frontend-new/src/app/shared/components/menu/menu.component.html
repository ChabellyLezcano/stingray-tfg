<p-menubar [model]="items">
  <ng-template pTemplate="start">
    <div class="flex items-center mr-2 lg:mr-0">
      <button
        *ngIf="showBackButton()"
        pButton
        icon="pi pi-arrow-left"
        class="mr-2"
        (click)="goBack()"
        class="text-black bg-transparent border-none hover:bg-indigo-500 hover:text-white"
      ></button>
    </div>
  </ng-template>

  <ng-template pTemplate="end">
    <div class="flex items-center flex-end">
      <img
        *ngIf="user?.photo"
        [src]="user?.photo"
        class="w-8 h-8 mx-4 rounded-full user-photo"
        alt="User Photo"
      />
      <span *ngIf="user" class="user-name">{{ user.username }}</span>
      <p-menu #menu [model]="dropdownItems" [popup]="true">
        <ng-template let-item pTemplate="item">
          <div *ngIf="item.icon === 'pi pi-sign-out'" class="w-full h-px"></div>
          <li
            [ngClass]="
              item.icon === 'pi pi-sign-out' ? 'text-red-500' : 'text-black'
            "
            class="flex items-center gap-2 hover:bg-transparent"
          >
            <i [ngClass]="item.icon" class="p-3"></i>
            {{ item.label }}
          </li>
        </ng-template>
      </p-menu>
      <button
        pButton
        type="button"
        (click)="menu.toggle($event)"
        icon="pi pi-ellipsis-v"
        class="text-black bg-transparent border-none"
      ></button>
    </div>
  </ng-template>
</p-menubar>
